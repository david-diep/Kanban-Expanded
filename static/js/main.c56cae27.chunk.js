(this["webpackJsonpkanban-hackathon"]=this["webpackJsonpkanban-hackathon"]||[]).push([[0],{16:function(e,t,a){e.exports=a(28)},27:function(e,t,a){},28:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),l=a(4),i=a.n(l),o=a(9),c=a(2),r=a(13),d=a(5),u=a(6),m=a(1),h=a(8),b=a(7),k=a(3),p=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).state={editTitle:!1,editText:!1,title:n.props.task.title,text:n.props.task.content},n.onTextClick=n.onTextClick.bind(Object(m.a)(n)),n.onTitleClick=n.onTitleClick.bind(Object(m.a)(n)),n.onTitleSave=n.onTitleSave.bind(Object(m.a)(n)),n.onTextSave=n.onTextSave.bind(Object(m.a)(n)),n.onTitleChange=n.onTitleChange.bind(Object(m.a)(n)),n.onTextChange=n.onTextChange.bind(Object(m.a)(n)),n}return Object(u.a)(a,[{key:"onTitleClick",value:function(e){this.setState({editTitle:!0})}},{key:"onTitleChange",value:function(e){this.setState({title:e.target.value})}},{key:"onTitleSave",value:function(e){e.preventDefault(),this.props.changeTaskTitle(this.props.task.id,this.state.title),this.setState({editTitle:!1})}},{key:"onTextChange",value:function(e){this.setState({text:e.target.value})}},{key:"onTextClick",value:function(e){this.setState({editText:!0})}},{key:"onTextSave",value:function(e){e.preventDefault(),this.props.changeTaskText(this.props.task.id,this.state.text),this.setState({editText:!1})}},{key:"render",value:function(){var e=this,t=s.a.createElement("form",{className:"input-group",onSubmit:this.onTitleSave},s.a.createElement("input",{type:"text",className:"form-control",value:this.state.title,onChange:this.onTitleChange}),s.a.createElement("div",{className:"input-group-append"},s.a.createElement("button",{className:"btn btn-primary"},"Save"))),a=s.a.createElement("form",{onSubmit:this.onTextSave},s.a.createElement("textarea",{className:"form-control",rows:"3",value:this.state.text,onChange:this.onTextChange}),s.a.createElement("div",{className:"d-flex flex-row-reverse"},s.a.createElement("button",{className:"btn btn-primary"},"Save")));return s.a.createElement(k.b,{draggableId:this.props.task.id,index:this.props.index},(function(n,l){return s.a.createElement("div",Object.assign({className:"\n              border\n              p-2\n              m-2\n              bg-light\n              ".concat(l.isDragging?"highlighted-task":"")},n.draggableProps,n.dragHandleProps,{ref:n.innerRef}),s.a.createElement("div",{className:"border-bottom",onClick:e.onTitleClick},e.state.editTitle?t:e.state.title),s.a.createElement("div",{onClick:e.onTextClick},e.state.editText?a:s.a.createElement("p",{className:"p-1"},e.state.text)))}))}}]),a}(s.a.Component),v=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).handleClick=n.handleClick.bind(Object(m.a)(n)),n.deleteThisColumn=n.deleteThisColumn.bind(Object(m.a)(n)),n}return Object(u.a)(a,[{key:"handleClick",value:function(e){var t=e.target.id;"column"===t.split("-")[0]&&this.props.addCard(t)}},{key:"deleteThisColumn",value:function(){this.props.deleteColumn(this.props.column.id)}},{key:"render",value:function(){var e=this;return s.a.createElement(k.b,{draggableId:this.props.column.id,index:this.props.index},(function(t,a){return s.a.createElement("div",Object.assign({className:"\n              col-min\n              overflow-y\n              h-80\n              w-25\n              border\n              border-secondary\n              m-1\n              bg-white\n              ".concat(a.isDragging?"highlighted-task":"","\n            "),ref:t.innerRef},t.draggableProps),s.a.createElement("div",Object.assign({className:"w-100 border-bottom d-flex justify-content-between"},t.dragHandleProps),s.a.createElement("h3",{className:"pt-2 pl-2"},e.props.column.title),s.a.createElement("div",{className:"m-2"},s.a.createElement("button",{id:e.props.column.id,className:"btn btn-primary",onClick:e.handleClick},s.a.createElement("i",{className:"fa fa-plus","aria-hidden":"true"})),e.props.deleteColumnButton&&s.a.createElement("button",{className:"btn btn-outline-danger ml-2",onClick:e.deleteThisColumn},s.a.createElement("i",{className:"fa fa-trash","aria-hidden":"true"})))),s.a.createElement(k.c,{droppableId:e.props.column.id},(function(t,a){return s.a.createElement("div",Object.assign({className:"\n                  tasklist\n                  h-80\n                  p-1\n                  ".concat(a.isDraggingOver?"bg-info":"","\n                "),ref:t.innerRef},t.droppableProps),e.props.tasks.map((function(t,a){return s.a.createElement(p,{key:t.id,task:t,index:a,changeTaskText:e.props.changeTaskText,changeTaskTitle:e.props.changeTaskTitle})})),t.placeholder)})))}))}}]),a}(s.a.Component),g=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).onDragEnd=function(e){var t,a=e.destination,s=e.source,l=e.draggableId,i=e.type;if(a&&(a.droppableId!==s.droppableId||a.index!==s.index)){if("column"===i){var d=Object(r.a)(n.state.columnOrder);return d.splice(s.index,1),d.splice(a.index,0,l),void n.setState({columnOrder:d})}var u=n.state.columns[s.droppableId],m=n.state.columns[a.droppableId];if(u!==m){var h=Array.from(u.taskIds);h.splice(s.index,1);var b=Object(c.a)(Object(c.a)({},u),{},{taskIds:h}),k=Array.from(m.taskIds);k.splice(a.index,0,l);var p=Object(c.a)(Object(c.a)({},m),{},{taskIds:k}),v={columns:Object(c.a)(Object(c.a)({},n.state.columns),{},(t={},Object(o.a)(t,b.id,b),Object(o.a)(t,p.id,p),t))};n.setState(v)}else{var g=Array.from(u.taskIds);g.splice(s.index,1),g.splice(a.index,0,l);var f=Object(c.a)(Object(c.a)({},u),{},{taskIds:g});n.setState({columns:Object(c.a)(Object(c.a)({},n.state.columns),{},Object(o.a)({},f.id,f))})}}},n.addCard=n.addCard.bind(Object(m.a)(n)),n.addColumn=n.addColumn.bind(Object(m.a)(n)),n.handleClick=n.handleClick.bind(Object(m.a)(n)),n.state={taskSerial:5,tasks:{"task-1":{id:"task-1",title:"1",content:"Take out the garbage."},"task-2":{id:"task-2",title:"2",content:"Charge my phone."},"task-3":{id:"task-3",title:"3",content:"Complete the hackathon."},"task-4":{id:"task-4",title:"4",content:"Get a job."}},columnSerial:4,columns:{"column-1":{id:"column-1",title:"To Do",taskIds:["task-1","task-2","task-3","task-4"]},"column-2":{id:"column-2",title:"In Progress",taskIds:[]},"column-3":{id:"column-3",title:"Done",taskIds:[]}},columnOrder:["column-1","column-2","column-3"],deleteColumnButton:!1},n.changeTaskTitle=n.changeTaskTitle.bind(Object(m.a)(n)),n.changeTaskText=n.changeTaskText.bind(Object(m.a)(n)),n.showDeleteColumn=n.showDeleteColumn.bind(Object(m.a)(n)),n.deleteColumn=n.deleteColumn.bind(Object(m.a)(n)),n}return Object(u.a)(a,[{key:"changeTaskTitle",value:function(e,t){var a=Object(c.a)({},this.state.tasks),n={id:e,title:t,content:a[e].content};a[e]=n,this.setState({tasks:a})}},{key:"changeTaskText",value:function(e,t){var a=Object(c.a)({},this.state.tasks),n={id:e,title:a[e].title,content:t};a[e]=n,this.setState({tasks:a})}},{key:"componentDidUpdate",value:function(e){if(this.state!==e){var t=JSON.stringify(this.state);localStorage.savedState=t}}},{key:"componentDidMount",value:function(){var e=localStorage.savedState;if(e)e=JSON.parse(e),this.setState({taskSerial:e.taskSerial,tasks:e.tasks,columnSerial:e.columnSerial,columns:e.columns,columnOrder:e.columnOrder});else{var t=JSON.stringify(this.state);localStorage.savedState=t}}},{key:"addCard",value:function(e){var t=this.state.taskSerial,a=t+1,n=JSON.parse(JSON.stringify(this.state.tasks));n["task-".concat(t)]={id:"task-".concat(t),title:"".concat(t),content:"New Card"};var s=JSON.parse(JSON.stringify(this.state.columns));s[e].taskIds.unshift("task-".concat(t)),this.setState({taskSerial:a,tasks:n,columns:s})}},{key:"handleClick",value:function(e){"add-column"===e.target.id&&this.addColumn()}},{key:"deleteColumn",value:function(e){var t=Object(c.a)({},this.state.columns),a=Object(c.a)({},this.state.tasks),n=Object(r.a)(this.state.columnOrder),s=n.findIndex((function(t){return t===e}));n.splice(s,1);for(var l=t[e].taskIds,i=0;i<l.length;i++)delete a[l[i]];delete t[e],this.setState({columns:t,tasks:a,columnOrder:n})}},{key:"showDeleteColumn",value:function(){this.setState((function(e){return{deleteColumnButton:!e.deleteColumnButton}}))}},{key:"addColumn",value:function(){var e=this.state.columnSerial,t=e+1,a=JSON.parse(JSON.stringify(this.state.columns)),n=this.state.columnOrder.splice(0);a["column-".concat(e)]={id:"column-".concat(e),title:"New Column",taskIds:[]},n.push("column-".concat(e)),this.setState({columns:a,columnSerial:t,columnOrder:n})}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"app overflow-x"},s.a.createElement("header",null,s.a.createElement("nav",{className:"\n              navbar\n              navbar-light\n              bg-dark\n              d-flex\n              navbar-horizontal-fixed\n              justify-content-between\n              align-items-center\n            ",id:"navbar"},s.a.createElement("h2",{className:"text-white navbar-brand"},"Kanban"),s.a.createElement("div",null,s.a.createElement("h5",{className:"text-white navbar-brand"},"Add New Column"),s.a.createElement("button",{onClick:this.handleClick,className:"btn btn-primary",id:"add-column"},s.a.createElement("i",{className:"fa fa-plus","aria-hidden":"true"})),s.a.createElement("button",{className:"btn btn-danger ml-3",onClick:this.showDeleteColumn},s.a.createElement("h5",null,"Toggle Column Delete")))),s.a.createElement("div",{className:"navbar-space"})),s.a.createElement("div",{className:"p-3 app"},s.a.createElement(k.a,{onDragEnd:this.onDragEnd},s.a.createElement(k.c,{droppableId:"all-columns",direction:"horizontal",type:"column"},(function(t){return s.a.createElement("div",Object.assign({className:"row flex-nowrap"},t.droppableProps,{ref:t.innerRef}),e.state.columnOrder.map((function(t,a){var n=e.state.columns[t],l=n.taskIds.map((function(t){return e.state.tasks[t]}));return s.a.createElement(v,{addCard:e.addCard,key:n.id,column:n,tasks:l,index:a,changeTaskText:e.changeTaskText,changeTaskTitle:e.changeTaskTitle,deleteColumn:e.deleteColumn,deleteColumnButton:e.state.deleteColumnButton})})))})))))}}]),a}(s.a.Component);a(27),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(g,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[16,1,2]]]);
//# sourceMappingURL=main.c56cae27.chunk.js.map